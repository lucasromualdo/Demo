var operacaoAtual,changePasswordCode,isWiFi=!0,usePlaceholder=!1,useLabel=!0,useBracketsLink=!0,usePanelSejaBemVindo=!1,exibirEntrar=!0,exibirCadastro=!0,tituloPanelAutenticar="Login";function createButton(e,a,n){return $("<span></span>").addClass("send").append($("<a></a>").attr("href","javascript:"+a).attr("id",e).html(e))}function createReadOnlyField(e,a,n,r,t){var i=createField(e,a,n);return i.attr("readonly","true"),i.attr("class","desabilita-campo"),i}function createField(e,a,n,r,t,i){var o=$("<input></input>").attr("type",a).attr("name",e).attr("id",e).attr("style","width: "+n+"px;").addClass("required");return r&&o.attr("maxlength",r),t&&o.attr("pattern",t),usePlaceholder&&i&&o.attr("placeholder",i),o}function createPanel(e,a){return $("<div></div>").attr("id",e).attr("style","text-align: left; display: none; width: "+a+"px; padding-right: 0px")}function createPanelCommands(e){return $("<div></div>").attr("id",e).addClass("panel-comandos")}function createSubPanel(e,a,n){var r=$("<div></div>").attr("style",(a?"width:"+a+"px;":"")+(e?"float:"+e+";":"")+" clear: none;");return n&&r.attr("id",n),r}function createLink(e,a,n,r){return r&&(a=useBracketsLink?"  ["+a+"]  ":"  "+a+"  <br/> "),$("<a></a>").addClass("label-link").attr("id",e).attr("href","javascript:"+n).html(a)}function createLabel(e){return $("<label></label>").attr("style","text-align:left;").html(e)}function exibeTermo(){$("#termo").show()}function createPanels(){var e=createPanel("campos-form-login"),a=createSubPanel();useLabel&&a.append(createLabel("USUÁRIO")),a.append(createField("usuario","text",250,null,null,"Usuário")),e.append(a),a=createSubPanel(),useLabel&&a.append(createLabel("SENHA")),a.append(createField("senha","password",250,null,null,"Senha")),e.append(a),(a=createSubPanel(null,262)).append(createButton("Entrar","solicitaLogin( );",60)),e.append(a),$("#paineis").append(e),e=createPanel("campos-form-login-cliente"),a=createSubPanel(),useLabel&&a.append(createLabel("USUÁRIO")),a.append(createField("usuario-cliente","text",250,null,null,"E-mail ou número do cartão")),e.append(a),a=createSubPanel(null,null,"campo-data-nascimento-cliente"),useLabel&&a.append(createLabel("DATA DE NASCIMENTO")),a.append(createField("data-nascimento-cliente","text",250,null,null,"Data de nascimento")),e.append(a),a=createSubPanel(null,null,"campo-email-cliente"),useLabel&&a.append(createLabel("EMAIL")),a.append(createField("email-cliente","text",250,null,null,"E-mail")),a.append(createField("id-pessoa-cliente","hidden",250)),e.append(a),a=createSubPanel(null,null,"campo-confirmar-email-cliente"),useLabel&&a.append(createLabel("CONFIRMAR EMAIL")),a.append(createField("confirmar-email-cliente","text",250,null,null,"Confirmar E-mail")),e.append(a),a=createSubPanel(null,null,"campo-senha-cliente"),useLabel&&a.append(createLabel("SENHA")),a.append(createField("senha-cliente","password",250,null,null,"Senha")),e.append(a),a=createSubPanel(null,null,"campo-confirmar-senha-cliente"),useLabel&&a.append(createLabel("CONFIRMAR SENHA")),a.append(createField("confirmar-senha-cliente","password",250,null,null,"Confirmar senha")),e.append(a),(a=createSubPanel(null,262)).append(createButton("Voltar","cancelaLoginUsuario( );",20)),a.append(createButton("Proximo","recuperaLoginUsuario( );",60)),e.append(a),$("#paineis").append(e),e=createPanel("campos-form-lembrar-senha"),a=createSubPanel(),useLabel&&a.append(createLabel("USUÁRIO")),a.append(createField("usuario-solicitante","text",250,null,null,"Usuário")),e.append(a),a=createSubPanel(),useLabel&&a.append(createLabel("EMAIL")),a.append(createField("email-solicitante","text",250,null,null,"E-mail")),e.append(a),(a=createSubPanel(null,262)).append(createButton("Solicitar","lembrarSenha( )",70)),e.append(a),$("#paineis").append(e),e=createPanel("campos-form-lembrar-senha-cooperado"),a=createSubPanel(),useLabel&&a.append(createLabel("CRM")),a.append(createField("usuario-solicitante-cooperado","text",250,null,"[0-9]","CRM")),e.append(a),(a=createSubPanel(null,262)).append(createButton("Solicitar","lembrarSenha( getUsuarioSolicitanteCooperado )",70)),e.append(a),$("#paineis").append(e),e=createPanel("campos-form-trocar-senha"),a=createSubPanel(null,null,"campo-senha-atual"),useLabel&&a.append(createLabel("SENHA ATUAL")),a.append(createField("senha-atual","password",250,null,null,"Senha")),e.append(a),a=createSubPanel(),useLabel&&a.append(createLabel("NOVA SENHA")),a.append(createField("nova-senha","password",250,null,null,"Nova senha")),e.append(a),a=createSubPanel(),useLabel&&a.append(createLabel("CONFIRMAÇÂO NOVA SENHA")),a.append(createField("confirmacao-nova-senha","password",250,null,null,"Confirmação nova senha")),e.append(a),(a=createSubPanel(null,262)).append(createButton("Trocar","trocarSenha( )",60)),e.append(a),$("#paineis").append(e),e=createPanel("campos-form-alterar-login"),(a=createSubPanel()).append(createField("usuario-atual","hidden",250)),useLabel&&a.append(createLabel("NOVO USUÁRIO")),a.append(createField("novo-usuario","text",250,null,null,"Novo e-mail")),e.append(a),a=createSubPanel(),useLabel&&a.append(createLabel("CONFIRMAÇÂO NOVO USUÁRIO")),a.append(createField("confirmacao-novo-usuario","text",250,null,null,"Confirmação novo e-mail")),e.append(a),(a=createSubPanel(null,262)).append(createButton("Alterar","alterarLogin( )",60)),e.append(a),$("#paineis").append(e),e=createPanel("campos-form-alterar-login-celular"),a=createSubPanel(),useLabel&&a.append(createLabel("CELULAR")),a.append(createReadOnlyField("numero-celular","text",250)),e.append(a),a=createSubPanel(null,null,"campo-codigo-seguranca"),useLabel&&a.append(createLabel("CÓDIGO DE SEGURANÇA")),a.append(createField("codigo-seguranca","text",250,6,"[0-9]","Código de segurança")),e.append(a),(a=createSubPanel(null,262,"botao-solicitar-codigo")).append(createButton("Solicitar","solicitarEnvioCodigoSegurancaSMS( )",60)),e.append(a),(a=createSubPanel(null,262,"botao-verificar-codigo")).append(createButton("Verificar","validarCodigoSeguranca( );",60)),e.append(a),$("#paineis").append(e),(e=createPanel("campos-form-criar-contaA")).css("text-align","center");var n=createButton("Sou cliente","ativarPainel(7);",90);if(e.append(n),e.append($("<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>")),n=createButton("Sou visitante","ativarPainel(8);",95),e.append(n),e.append($("<br/><br/>")),$("#paineis").append(e),e=createPanel("campos-form-criar-contaB"),a=createSubPanel(),useLabel&&a.append(createLabel("NÚMERO DO CARTÃO")),a.append(createField("numero-carteira","text",250,17,"[0-9]","Número do cartão")),e.append(a),a=createSubPanel(),useLabel&&a.append(createLabel("DATA DE NASCIMENTO")),a.append(createField("data-nascimento","text",250,null,null,"Data de nascimento")),e.append(a),(a=createSubPanel(null,262)).append(createButton("Pesquisar","pesquisarBeneficiario( )",70)),e.append(a),$("#paineis").append(e),e=createPanel("campos-form-criar-contaC"),(a=createSubPanel(null,null,"campo-nome")).append(createField("id-pessoa","hidden",250)),useLabel&&a.append(createLabel("NOME")),a.append(createReadOnlyField("nome","text",250)),e.append(a),a=createSubPanel(null,null,"campo-email"),useLabel&&a.append(createLabel("EMAIL")),a.append(createField("email","email",250,null,null,"E-mail")),e.append(a),a=createSubPanel(),useLabel&&a.append(createLabel("SENHA")),a.append(createField("criar-senha","password",250,null,null,"Senha")),e.append(a),a=createSubPanel(),useLabel&&a.append(createLabel("CONFIRMAR SENHA")),a.append(createField("confirmacao-criar-senha","password",250,null,null,"Confirmar senha")),e.append(a),isWiFi){a=createSubPanel();(t=createLink("termo-responsabilidade",":: TERMO DE RESPONSABILIDADE ::","exibeTermo()")).show(),a.append(t),e.append(a)}(a=createSubPanel(null,262)).append(createButton("Cadastrar","criarConta( )",70)),e.append(a),$("#paineis").append(e),e=createPanel("campos-form-criar-contaD"),a=createSubPanel(null,null,"campo-matricula-colaborador"),useLabel&&a.append(createLabel("LOGIN COLABORADOR")),a.append(createField("matricula","text",250)),e.append(a),(a=createSubPanel(null,null,"campo-nome-colaborador")).hide(),useLabel&&a.append(createLabel("NOME COLABORADOR")),a.append(createReadOnlyField("nome-colaborador","text",250)),e.append(a),(a=createSubPanel(null,null,"campos-form-criar-contaD1")).hide();var r=createSubPanel();if(useLabel&&r.append(createLabel("NOME COMPLETO")),r.append(createField("nome-visitante","text",250)),a.append(r),r=createSubPanel(),useLabel&&r.append(createLabel("CPF")),r.append(createField("cpf-visitante","text",150,11)),a.append(r),r=createSubPanel(),useLabel&&r.append(createLabel("EMAIL (usado no login)")),r.append(createField("email-visitante","text",250)),a.append(r),r=createSubPanel(),useLabel&&r.append(createLabel("SENHA")),r.append(createField("criar-senha-visitante","password",250)),a.append(r),r=createSubPanel(),useLabel&&r.append(createLabel("CONFIRMAR SENHA")),r.append(createField("confirmacao-criar-senha-visitante","password",250)),a.append(r),isWiFi){var t;r=createSubPanel(null,262);(t=createLink("termo-responsabilidade",":: TERMO DE RESPONSABILIDADE ::","exibeTermo( )")).show(),r.append(t),a.append(r)}(r=createSubPanel(null,262)).append(createButton("Solicitar","solicitarCadastroVisitante( )",70)),a.append(r),e.append(a),(a=createSubPanel(null,262,"botao-pesquisa-colaborador")).append(createButton("Pesquisar","pesquisarColaborador( )",70)),e.append(a),$("#paineis").append(e),(e=createPanelCommands("comandos")).append(createLink("link-sair","Sair","sair()",!0)),e.append(createLink("link-trocar-senha","Trocar senha","ativarPainel(2)",!0)),exibirCadastro&&(isWiFi?e.append(createLink("link-criar-conta","Não tenho cadastro","ativarPainel(6)",!0)):e.append(createLink("link-criar-conta","Não tenho cadastro","ativarPainel(7)",!0))),e.append(createLink("link-lembrar-senha","Esqueci minha senha","ativarPainel(1)",!0)),e.append(createLink("link-entrar","Autenticar","ativarPainel(3)",!0)),e.append(createLink("link-trocar-email","Trocar e-mail","exibirPainelTrocaEmail()",!0)),e.append(createLink("link-trocar-email-celular","Solicitar pelo nº de celular","exibirPainelTrocaEmailCelular()",!0)),e.show(),$("#paineis").append(e)}function initCadastroClienteMobile(){exibirEntrar=!(isWiFi=!1),initPanels(),$("#link-entrar").attr("href","/acesso/cadastroClienteMobile.html?painel=login")}function initEspacoCliente(){useBracketsLink=!(usePanelSejaBemVindo=!(useLabel=!(usePlaceholder=!(isWiFi=!1)))),initPanels(),$("#confirmar-email-cliente").on("paste",function(){return!1}),$("#confirmar-senha-cliente").on("paste",function(){return!1})}function initLoginCooperado(){exibirCadastro=useBracketsLink=!(usePanelSejaBemVindo=!(useLabel=!(usePlaceholder=!(isWiFi=!1)))),tituloPanelAutenticar="Digite seu CRM ou Usuário",$(".banner-imagem").children(0).attr("src","https://extranet2.unimedbh.com.br/acoes/sistemas/sitecooperados/login/fundo.png"),$(".geral").css({"background-color":"#0A5F55"}),initPanels(),$("#Entrar").attr("href","javascript: solicitaLoginCooperado( )")}function initLoginSol(){tituloPanelAutenticar="Bem-vindo!",initPanels(),$("#link-criar-conta").text("Não tenho cadastro"),$("#link-lembrar-senha").text("Esqueci minha senha"),$("#link-entrar").text("Autenticar"),$("#Entrar").attr("href","javascript: solicitaLoginCooperado( )")}function initLoginPrestador(){tituloPanelAutenticar="DIGITE SEU USUÁRIO",initPanels()}function initPanels(){createPanels(),$("#usuario-cliente").keyup(onKeyupUsuarioCliente),window.navigator.standalone&&jQuery.ajaxSetup({isLocal:!0}),-1<navigator.userAgent.indexOf("OS 7_1_1")&&alert("A versão do seu dispositivo pode gerar problemas ao tentar utilizar o sistema. Atualize-o se possível."),-1<navigator.userAgent.indexOf("GT-I8552B")?($("#numero-carteira").prop("type","number"),$("#numero-carteira").maxlength({events:[],maxCharacters:17,status:!1,statusClass:"status",statusText:"character left",notificationClass:"notification",showAlert:!1,alertText:"You have typed too many characters.",slider:!1}),$("#cpf-visitante").prop("type","number"),$("#cpf-visitante").maxlength({events:[],maxCharacters:11,status:!1,statusClass:"status",statusText:"character left",notificationClass:"notification",showAlert:!1,alertText:"You have typed too many characters.",slider:!1})):-1<navigator.userAgent.indexOf("GT-S")||-1<navigator.userAgent.indexOf("GT-I")?($("#numero-carteira").prop("type","number"),$("#numero-carteira").attr("maxlength","17"),$("#cpf-visitante").prop("type","number"),$("#cpf-visitante").attr("maxlength","11")):(-1<navigator.userAgent.indexOf("Android")||-1<navigator.userAgent.indexOf("iPhone")||-1<navigator.userAgent.indexOf("iPad")||-1<navigator.userAgent.indexOf("iPad")||-1<navigator.userAgent.indexOf("MSIE")||-1<navigator.userAgent.indexOf("Firefox/")||(-1<navigator.userAgent.indexOf("Macintosh")||-1<navigator.userAgent.indexOf("Windows"))&&navigator.userAgent.indexOf("Safari"),$("#cpf-visitante").numeric(),$("#numero-carteira").numeric()),$("#data-nascimento").mask("99/99/9999"),$("#data-nascimento-cliente").mask("99/99/9999"),stopLoading()}function defineMensagem(e,a){if("erro"==e)$("#img-msg-erro").show(),$("#img-msg-sucesso").hide(),$("#mensagem").addClass("MensagemErro"),$("#mensagem").removeClass("MensagemSucesso");else{if("sucesso"!=e)return void $("#mensagem").hide();$("#img-msg-erro").hide(),$("#img-msg-sucesso").show(),$("#mensagem").removeClass("MensagemErro"),$("#mensagem").addClass("MensagemSucesso")}$("#texto-mensagem").text(a),usePanelSejaBemVindo&&$("#seja-bem-vindo").hide(),$("#mensagem").show()}function startLoading(){$("#loader").show(),$("#login :input").attr("disabled",!0)}function stopLoading(){$("#loader").hide(),$("#login :input").attr("disabled",!1)}function getTipoPainel(e){var a=window.location.pathname,n=window.location.href;return 1==e?"/acesso/loginCliente.html"==a||"/acesso/loginEcommerce.html"==a||n.match(/painel=esqueciMinhaSenhaCliente/)?e=11:"/acesso/loginCooperado.html"!=a&&!n.match(/painel=esqueciMinhaSenhaCooperado/)||(e=12):n.match(/painel=trocarSenha/)?e=2:n.match(/painel=trocarLogin/)?e=14:3==e&&"/acesso/loginCliente.html"==a&&(e=13),e}function ativarPainel(e){switch(defineMensagem(),$("#link-lembrar-senha").hide(),$("#link-trocar-email").hide(),$("#link-trocar-email-celular").hide(),$("#link-entrar").hide(),$("#link-trocar-senha").hide(),$("#link-sair").hide(),$("#link-criar-conta").hide(),$("#campos-form-trocar-senha").hide(),$("#campos-form-alterar-login").hide(),$("#campos-form-alterar-login-celular").hide(),$("#campos-form-login").hide(),$("#campos-form-login-cliente").hide(),$("#campos-form-lembrar-senha").hide(),$("#campos-form-lembrar-senha-cooperado").hide(),$("#campos-form-criar-contaA").hide(),$("#campos-form-criar-contaB").hide(),$("#campos-form-criar-contaC").hide(),$("#campos-form-criar-contaD").hide(),usePanelSejaBemVindo&&$("#seja-bem-vindo").hide(),limparPainel(e=getTipoPainel(e)),e){case 1:exibirEntrar&&$("#link-entrar").show(),0<$("#usuario").val().length&&$("#usuario-solicitante").val($("#usuario").val()),$("#campo-senha-atual").hide(),$("#campos-form-lembrar-senha").show(),$("#titulo").text("Solicitar Nova Senha"),operacaoAtual=lembrarSenha;break;case 2:$("#link-sair").show(),$("#campos-form-trocar-senha").show(),$("#titulo").text("Trocar Senha"),operacaoAtual=trocarSenha;break;case 3:$("#link-lembrar-senha").show(),$("#link-criar-conta").show(),$("#campos-form-login").show(),$("#titulo").text(tituloPanelAutenticar),usePanelSejaBemVindo&&$("#seja-bem-vindo").show(),operacaoAtual=solicitaLogin,window.location.search.match(/code=/)&&(window.location.search=window.location.search.replace(/code=[^&]+&/,""));break;case 4:$("#link-sair").show(),$("#link-trocar-senha").show(),defineMensagem("sucesso","Usuario autenticado");break;case 5:exibirEntrar&&$("#link-entrar").show(),$("#campo-senha-atual").hide(),$("#campos-form-trocar-senha").show(),$("#titulo").text("Definir Nova Senha"),operacaoAtual=trocarSenha;break;case 6:exibirEntrar&&$("#link-entrar").show(),$("#campos-form-criar-contaA").show(),$("#titulo").text(""),operacaoAtual=function(){};break;case 7:exibirEntrar&&$("#link-entrar").show(),$("#campos-form-criar-contaB").show(),$("#titulo").text("Cadastrar usuário"),operacaoAtual=pesquisarBeneficiario;break;case 8:exibirEntrar&&$("#link-entrar").show(),$("#campos-form-criar-contaD").show(),$("#titulo").text("Colaborador UNIMED-BH"),operacaoAtual=pesquisarColaborador;break;case 9:exibirEntrar&&$("#link-entrar").show(),$("#campos-form-criar-contaB").hide(),$("#campos-form-criar-contaC").show(),$("#titulo").text("Cadastrar usuário"),operacaoAtual=criarConta;break;case 10:$("#campos-form-criar-contaD").show(),exibirEntrar&&$("#link-entrar").show(),$("#matricula").removeClass("required"),$("#matricula").addClass("desabilita-campo"),$("#matricula").attr("readonly","true"),$("#campo-nome-colaborador").show(),$("#botao-pesquisa-colaborador").hide(),$("#campos-form-criar-contaD1").show(),$("#titulo").text("Visitante"),operacaoAtual=solicitarCadastroVisitante;break;case 11:exibirEntrar&&$("#link-entrar").show();var a=getEmailCliente;0<$("#email-cliente").val().length?($("#usuario-solicitante-cliente").val($("#email-cliente").val()),a=getEmailCliente):0<$("#usuario").val().length&&($("#usuario-solicitante-cliente").val($("#usuario").val()),a=getUsuarioSolicitanteCliente),$("#campo-senha-atual").hide(),$("#titulo").text("Solicitar Nova Senha"),lembrarSenha(a),operacaoAtual=lembrarSenha;break;case 12:exibirEntrar&&$("#link-entrar").show(),0<$("#usuario").val().length?$("#usuario-solicitante-cooperado").val($("#usuario").val()):0<$("#usuario-cliente").val().length&&$("#usuario-solicitante-cooperado").val($("#usuario-cliente").val()),$("#campo-senha-atual").hide(),$("#campos-form-lembrar-senha-cooperado").show(),$("#titulo").text("Solicitar Nova Senha"),operacaoAtual=lembrarSenha;break;case 13:$("#link-lembrar-senha").hide(),$("#link-criar-conta").hide(),$("#campos-form-login-cliente").show(),$("#usuario-cliente").removeClass("desabilita-campo"),$("#usuario-cliente").removeAttr("readonly"),$("#data-nascimento-cliente").removeClass("desabilita-campo"),$("#data-nascimento-cliente").removeAttr("readonly"),$("#campo-data-nascimento-cliente").hide(),$("#email-cliente").addClass("desabilita-campo"),$("#email-cliente").attr("readonly","true"),$("#campo-email-cliente").hide(),$("#campo-confirmar-email-cliente").hide(),$("#campo-senha-cliente").hide(),$("#campo-confirmar-senha-cliente").hide(),$("#Proximo").text("Proximo"),$("#Voltar").parent().hide(),$("#titulo").text(tituloPanelAutenticar),usePanelSejaBemVindo&&$("#seja-bem-vindo").show(),operacaoAtual=recuperaLoginUsuario,window.location.search.match(/code=/)&&(window.location.search=window.location.search.replace(/code=[^&]+&/,""));break;case 14:$("#link-sair").show(),$("#campos-form-alterar-login").show(),$("#titulo").text("Alterar Login"),operacaoAtual=alterarLogin;break;case 15:$("#campos-form-alterar-login").show(),$("#confirmacao-novo-usuario").hide(),$("#titulo").text("Solicitar troca de e-mail"),$("#link-entrar").show(),operacaoAtual=alterarLogin;break;case 16:$("#campos-form-alterar-login-celular").show(),$("#campo-codigo-seguranca").hide(),$("#botao-solicitar-codigo").show(),$("#botao-verificar-codigo").hide(),$("#titulo").text("Solicitar troca de e-mail"),$("#link-entrar").show(),operacaoAtual=solicitarEnvioCodigoSegurancaSMS;break;case 17:$("#campos-form-alterar-login").show(),$("#novo-usuario").val(""),$("#novo-usuario").removeClass("desabilita-campo"),$("#novo-usuario").removeAttr("readonly"),$("#confirmacao-novo-usuario").val(""),$("#confirmacao-novo-usuario").show(),$("#titulo").text("Solicitar troca de e-mail"),$("#link-entrar").show(),operacaoAtual=alterarLogin}usePlaceholder&&$(document).ready(function(){function e(){""==$(this).val()&&$(this).val($(this).attr("placeholder")).addClass("placeholder")}function a(){$(this).val()==$(this).attr("placeholder")&&$(this).val("").removeClass("placeholder")}"placeholder"in $("<input>")[0]||($("input[placeholder], textarea[placeholder]").blur(e).focus(a).each(e),$("form").submit(function(){$(this).find("input[placeholder], textarea[placeholder]").each(a)}))})}function limparPainel(e){switch(e){case 7:limparCampo("numero-carteira"),limparCampo("data-nascimento");break;case 9:limparCampo("criar-senha"),limparCampo("confirmacao-criar-senha");break;case 13:limparCampo("usuario-cliente"),limparCampo("data-nascimento-cliente"),limparCampo("email-cliente"),limparCampo("confirmar-email-cliente"),limparCampo("id-pessoa-cliente"),limparCampo("senha-cliente"),limparCampo("confirmar-senha-cliente")}}function limparCampo(e){0!=$("#"+e).val().length&&$("#"+e).val("")}